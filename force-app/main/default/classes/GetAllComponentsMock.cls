@isTest
global class GetAllComponentsMock implements WebServiceMock{
	global void doInvoke(
           Object stub,
           Object request,
           Map<String, Object> response,
           String endpoint,
           String soapAction,
           String requestName,
           String responseNS,
           String responseName,
           String responseType) {
               
               //Integer METADATA_API_VERSION = Integer.valueOf(new MetadataService.MetadataPort().endpoint_x.substringAfterLast('/'));
 
        // Create response element from the autogenerated class.
        // Populate response element.
        // Add response element to the response parameter, as follows:
        MetadataService.describeMetadataResponse_element response_x = new MetadataService.describeMetadataResponse_element();     
        MetadataService.DescribeMetadataResult dmr = new MetadataService.DescribeMetadataResult();
        List<MetadataService.DescribeMetadataObject> metadataObjects = new List<MetadataService.DescribeMetadataObject>();
		MetadataService.DescribeMetadataObject dmo = new MetadataService.DescribeMetadataObject();
        dmo.suffix = '';
        dmo.metaFile = false;
        dmo.inFolder = false;
        dmo.directoryName = 'objects';
		dmo.xmlName = 'CustomObject';
		dmo.childXmlNames = new String[]{'CustomField', 'Index', 'BusinessProcess', 'RecordType', 
		'CompactLayout', 'WebLink', 'ValidationRule', 'SharingReason', 'ListView', 'FieldSet'};
        metadataObjects.add(dmo);
        dmr.metadataObjects  = metadataObjects;
        
		response_x.result = dmr;
        response.put('response_x', response_x);
   }
}